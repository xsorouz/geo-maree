# ============================================================================
# ðŸ“Š prometheus.yml â€” Configuration du monitoring Prometheus
# Objectif : surveiller les services clÃ©s de la stack gÃ©ospatiale SHOM
# Emplacement : prometheus/prometheus.yml
# ============================================================================

global:
  scrape_interval: 15s      # FrÃ©quence de scrutation des cibles
  evaluation_interval: 15s  # FrÃ©quence d'Ã©valuation des rÃ¨gles (non utilisÃ© ici)

scrape_configs:
  # âœ… Prometheus se surveille lui-mÃªme
  - job_name: 'prometheus'
    static_configs:
      - targets: ['localhost:9090']

  # ðŸ”§ (Exemple futur) PostgreSQL - nÃ©cessite un exporter
  # - job_name: 'postgresql'
  #   static_configs:
  #     - targets: ['shom-postgres-exporter:9187']

  # ðŸ”§ (Exemple futur) FastAPI - monitoring via middleware Prometheus
  # Requiert l'ajout d'un routeur ou middleware spÃ©cifique dans main.py
  # - job_name: 'fastapi'
  #   static_configs:
  #     - targets: ['shom-fastapi:8000']

  # ðŸ”§ (Exemple futur) GeoServer - mÃ©triques personnalisÃ©es Ã  exposer manuellement
  # - job_name: 'geoserver'
  #   static_configs:
  #     - targets: ['shom-geoserver:8080']
